---
# defaults file for ansible-pihole

# PIHOLE
pihole_force_upgrade: no  # if yes, then will reinstall pihole even if it's already installed

pihole_setupVars_conf: |
  WEBPASSWORD=a215bae8b5ec659b0980a76dlkds09644731cd439cab41494447a8705c22b3aa41c
  PIHOLE_INTERFACE=wlan0
  IPV4_ADDRESS=192.168.1.2/24
  IPV6_ADDRESS=2601:444:8111:403:55d6:2f11:41bf:13bb
  QUERY_LOGGING=true
  INSTALL_WEB=true
  DNSMASQ_LISTENING=single
  PIHOLE_DNS_1=208.67.222.222
  PIHOLE_DNS_2=208.67.220.220
  PIHOLE_DNS_3=2620:0:ccc::2
  PIHOLE_DNS_4=2620:0:ccd::2
  DNS_FQDN_REQUIRED=true
  DNS_BOGUS_PRIV=true
  DNSSEC=true
  TEMPERATUREUNIT=C
  WEBUIBOXEDLAYOUT=traditional
  API_EXCLUDE_DOMAINS=
  API_EXCLUDE_CLIENTS=
  API_QUERY_LOG_SHOW=all
  API_PRIVACY_MODE=false

pihole_dnsmasq_custom_conf: |
  # Local DNS:
  server=/bearden.local/192.168.1.1
  server=/bearden.lan/192.168.1.1
  server=/bearden.home/192.168.1.1


# DNSCRIPT
pihole_dnscrypt: yes                # Install dnscrypt?

pihole_dnscrypt_bin: /usr/local/bin/dnscrypt-proxy  # where to put dnscrypt binary
pihole_dnscrypt_config: /etc/dnscrypt-proxy/dnscrypt-proxy.toml # where to store dnscrypt config

pihole_dnscrypt_force_upgrade: no   # if yes, then old version of dnscript (if it exists) will be removed.
                                    # If no, then already installed dnscript binaries will be used.
pihole_dnscrypt_proxy2_link: >
  https://github.com/jedisct1/dnscrypt-proxy/releases/download/2.0.8/dnscrypt-proxy-linux_arm-2.0.8.tar.gz
 # https://github.com/jedisct1/dnscrypt-proxy/releases/download/2.0.8/dnscrypt-proxy-linux_arm64-2.0.8.tar.gz

# DNSCrypt main configruation file variables (Check templates/dnscrypt-proxy.toml.j2):
pihole_dnscrypt_ipv4_address: 127.0.0.1
pihole_dnscrypt_port: 41

# 'true' | 'false' - not True or false, as this syntax is being imported into dnscrypt configuration file.
pihole_dnscrypt_ipv4_servers: 'true'      # Use servers reachable over IPv4.
pihole_dnscrypt_ipv6_servers: 'false'     # Use servers reachable over IPv6. Do not enable if you don't have IPv6 set up.
pihole_dnscrypt_dc_servers: 'true'        # Use servers implementing the DNSCrypt protocol.
pihole_dnscrypt_doh_servers: 'true'       # Use servers implementing the DNS-over-HTTPS protocol.
pihole_dnscrypt_require_dnssec: 'true'
pihole_dnscrypt_require_nolog: 'true'     # Server must not log user queries (declarative).
pihole_dnscrypt_require_nofilter: 'true'  # Server must not enforce its own blacklist (for parental control, ads blocking)
pihole_dnscrypt_force_tcp: 'false'        # Always use TCP to connect to upstream servers. Useful for TOR.

# 9.9.9.9:53 -- Quad9 DNSSec anycast privacy oriented Google alternative
# 114.114.114.114:53 -- for people in China.
pihole_dnscrypt_fallback_resolver: 9.9.9.9:53 # non-encrypted fallback resolver. Only used if DNS config doesn't work
pihole_dnscrypt_ignore_system_dns: 'true' # Unconditionally use the fallback resolver

...
